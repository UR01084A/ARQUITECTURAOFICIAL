<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Portafolio - Trabajos</title>
  
  <link rel="stylesheet" href="css/trabajos.css">
</head>
<body>
  <!-- Header -->
  <header>
    <div class="logo">
      <img src="img/logo.png" alt="Logo UPLA" width="60" height="60">
      <h2>UPLA</h2>
    </div>
    <nav id="navMenu">
      <a href="index.html">Inicio</a>
      <a href="habilidades.html">Habilidades</a>
      <a href="educacion.html">Educación</a>
      <a href="trabajos.html" class="active">Trabajos</a>
      <a href="contacto.html">Contacto</a>
      <button id="btnLoginMenu" onclick="mostrarLogin()">Ingresar</button>
      <button id="btnLogoutMenu" onclick="logout()" style="display:none">Cerrar Sesión</button>
    </nav>
    <div class="hamburger" onclick="toggleMenu()">
      <span></span>
      <span></span>
      <span></span>
    </div>
  </header>

  <!-- Sección Trabajos -->
  <section class="trabajos-section">
    <h2>Proyectos Realizados</h2>
    <div id="trabajosList" class="trabajos-grid"></div>

    <form id="uploadForm" style="display:none" onsubmit="event.preventDefault(); subirTrabajo();">
      <input type="text" id="tituloTrabajo" placeholder="Título del trabajo" required>
      <input type="file" id="archivoTrabajo" required>
      <button type="submit">Subir Trabajo</button>
    </form>
  </section>

  <!-- Footer -->
  <footer>
    <p>© 2025 William Mario Lázaro Iguavel | Diseñado en HTML, CSS y JS</p>
  </footer>

  <script>
    function mostrarLogin() {
      const password = prompt("Ingrese contraseña de administrador:");
      if(password === "admin123") {
        document.getElementById("uploadForm").style.display = "flex";
        document.getElementById("btnLoginMenu").style.display = "none";
        document.getElementById("btnLogoutMenu").style.display = "inline-block";
      } else {
        alert("Contraseña incorrecta");
      }
    }

    function logout() {
      document.getElementById("uploadForm").style.display = "none";
      document.getElementById("btnLoginMenu").style.display = "inline-block";
      document.getElementById("btnLogoutMenu").style.display = "none";
    }

    const trabajosList = document.getElementById("trabajosList");
    let trabajos = JSON.parse(localStorage.getItem("trabajos")) || [];

    function mostrarTrabajos() {
      trabajosList.innerHTML = "";
      trabajos.forEach((t, index) => {
        const div = document.createElement("div");
        div.className = "trabajo-card";
        div.innerHTML = `
          <h3>${t.titulo}</h3>
          <a href="${t.archivo}" download>Descargar</a>
        `;
        trabajosList.appendChild(div);
      });
    }

    function subirTrabajo() {
      const titulo = document.getElementById("tituloTrabajo").value;
      const archivo = document.getElementById("archivoTrabajo").files[0];

      if(!titulo || !archivo) return alert("Complete todos los campos");

      const reader = new FileReader();
      reader.onload = function(e) {
        trabajos.push({ titulo: titulo, archivo: e.target.result });
        localStorage.setItem("trabajos", JSON.stringify(trabajos));
        mostrarTrabajos();
        document.getElementById("uploadForm").reset();
      };
      reader.readAsDataURL(archivo);
    }

    mostrarTrabajos();
  </script>
</body>
</html>
